<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <title>Kinaya Rising — Business Dashboard</title>

  <!-- ====== META ====== -->
  <meta name="description"
        content="Kinaya Rising Business Dashboard — track revenue, profit, customer insights, and inventory analytics with unified Kinaya design.">

  <!-- ====== GLOBAL FONTS & ICONS ====== -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Audiowide&family=Roboto:wght@300;400;700&display=swap"
    rel="stylesheet"
  />

  <!-- ====== UNIFIED KINAYA STYLES ====== -->
  <link rel="stylesheet" href="styles/kinaya-base.css">
  <link rel="stylesheet" href="styles/dashboard.css">

  <!-- ====== ACCESS LOCK ====== -->
  <script>
    if (sessionStorage.getItem("posUnlocked") !== "true") {
      window.location.href = "index.html";
    }
  </script>

  <!-- ====== DASHBOARD LOGIC ====== -->
  <script src="scripts/dashboard.js" defer></script>
</head>

<body>
  <!-- ====== HEADER ====== -->
  <header>
    Business Dashboard
    <p class="subtitle">Unified overview of your sales, inventory, and performance</p>
  </header>

  <!-- ====== CONTROLS ====== -->
  <section class="dashboard-controls">
    <label>View:
      <select id="view-select">
        <option value="daily">Daily</option>
        <option value="monthly" selected>Monthly</option>
        <option value="quarterly">Quarterly</option>
        <option value="yearly">Yearly</option>
      </select>
    </label>

    <label>Range:
      <input type="text" id="date-range" value="Oct 1 – Oct 23" />
    </label>

    <label>Compare:
      <label class="switch">
        <input type="checkbox" id="compare-toggle" />
        <span class="slider"></span>
      </label>
    </label>
  </section>

  <!-- ====== MAIN DASHBOARD ====== -->
  <main role="main" class="dashboard">

    <!-- A. SALES PERFORMANCE -->
    <section class="panel">
      <h2>Sales Performance</h2>
      <div class="metric"><span>Total Revenue</span><strong id="total-revenue">$0.00</strong></div>
      <div class="metric"><span>Gross Profit</span><strong id="gross-profit">$0.00</strong></div>
      <div class="metric"><span>Net Profit</span><strong id="net-profit">$0.00</strong></div>
      <div class="metric"><span>Avg Transaction Value</span><strong id="avg-transaction">$0.00</strong></div>
      <div class="metric"><span>Units Sold</span><strong id="units-sold">0</strong></div>
      <div class="metric"><span>Top Product</span><strong id="top-product">–</strong></div>
      <div class="metric"><span>Sales by Channel</span><strong id="sales-channel">–</strong></div>
      <canvas id="sales-trend" height="100"></canvas>
      <button type="button" class="glow-button">Email Sales Report</button>
    </section>

    <!-- B. CUSTOMER INSIGHTS -->
    <section class="panel">
      <h2>Customer Insights</h2>
      <div class="metric"><span>Number of Transactions</span><strong id="num-transactions">0</strong></div>
      <div class="metric"><span>Repeat Customers</span><strong id="repeat-customers">0%</strong></div>
      <div class="metric"><span>Avg Items per Sale</span><strong id="avg-items">0</strong></div>
      <div class="metric"><span>Customer Emails Collected</span><strong id="emails-collected">0</strong></div>
      <div class="metric"><span>Refund Rate</span><strong id="refund-rate">0%</strong></div>
      <canvas id="customer-chart" height="100"></canvas>
      <button type="button" class="glow-button">Email Customer Report</button>
    </section>

    <!-- C. PRODUCT ANALYTICS -->
    <section class="panel">
      <h2>Product Analytics</h2>
      <div class="metric"><span>Top-Selling Products</span><strong id="top-products">–</strong></div>
      <div class="metric"><span>Lowest Stocked Products</span><strong id="low-stock-products">–</strong></div>
      <div class="metric"><span>Profit Margin (Avg)</span><strong id="profit-margin">0%</strong></div>
      <div class="metric"><span>Category Breakdown</span><strong id="category-breakdown">–</strong></div>
      <div class="metric"><span>Total SKUs Active</span><strong id="total-skus">0</strong></div>
      <canvas id="product-chart" height="100"></canvas>
      <button type="button" class="glow-button">Email Product Report</button>
    </section>

    <!-- D. TAX & ACCOUNTING SUMMARY -->
    <section class="panel">
      <h2>Tax & Accounting Summary</h2>
      <div class="metric"><span>Gross Revenue (Before Tax)</span><strong id="gross-revenue">$0.00</strong></div>
      <div class="metric"><span>Tax Collected</span><strong id="tax-collected">$0.00</strong></div>
      <div class="metric"><span>Expenses Logged</span><strong id="expenses">$0.00</strong></div>
      <div class="metric"><span>Net Profit</span><strong id="account-net-profit">$0.00</strong></div>
      <canvas id="accounting-chart" height="100"></canvas>
      <button type="button" class="glow-button">Email Accounting Report</button>
    </section>

  </main>

  <!-- ====== NAVIGATION ====== -->
  <nav class="kinaya-nav">
    <a href="sale.html" class="nav-btn"><i class="fas fa-cash-register"></i><span>Sales</span></a>
    <a href="inventory.html" class="nav-btn"><i class="fas fa-boxes"></i><span>Inventory</span></a>
    <a href="data.html" class="nav-btn active"><i class="fas fa-chart-line"></i><span>Data</span></a>
  </nav>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ===== Example Charts =====
      new Chart(document.getElementById("sales-trend"), {
        type: "line",
        data: {
          labels: ["Week 1", "Week 2", "Week 3", "Week 4"],
          datasets: [{
            data: [300, 500, 450, 600],
            borderColor: "#00c6ff",
            tension: 0.3,
            fill: false
          }]
        },
        options: { plugins: { legend: { display: false } } }
      });

      new Chart(document.getElementById("customer-chart"), {
        type: "doughnut",
        data: {
          labels: ["Returning", "New"],
          datasets: [{
            data: [40, 60],
            backgroundColor: ["#00c6ff", "#144b6b"]
          }]
        },
        options: { plugins: { legend: { labels: { color: "#A7E1EE" } } } }
      });

      new Chart(document.getElementById("product-chart"), {
        type: "bar",
        data: {
          labels: ["Books", "Buttons", "Totes", "Bookmarks"],
          datasets: [{
            data: [220, 95, 60, 45],
            backgroundColor: "#00c6ff"
          }]
        },
        options: { plugins: { legend: { display: false } } }
      });

      new Chart(document.getElementById("accounting-chart"), {
        type: "pie",
        data: {
          labels: ["Revenue", "Tax", "Expenses"],
          datasets: [{
            data: [5921.4, 421, 1200],
            backgroundColor: ["#00c6ff", "#046b7a", "#144b6b"]
          }]
        },
        options: { plugins: { legend: { labels: { color: "#A7E1EE" } } } }
      });
    });
  </script>
</body>
</html>
